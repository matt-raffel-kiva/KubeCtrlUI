<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:KubeCtrlUI.ViewModels"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
        x:CompileBindings="True"
		x:DataType="vm:MainWindowViewModel"
        x:Class="KubeCtrlUI.Views.MainWindow"
        Icon="/Assets/avalonia-logo.ico"
        Title="KubeCtrl UI">

	<!--We are using Compiled bindings. This is not mandatory but makes life easier. Read more about it here:-->
	<!-- https://docs.avaloniaui.net/docs/basics/data/data-binding/compiled-bindings -->

	<Design.DataContext>
        <vm:MainWindowViewModel/>
    </Design.DataContext>

	<TabControl SelectionChanged="TabControl_SelectionChanged">
		<TabItem Header="Contexts" Name="ContextsTab">
			<StackPanel Margin="20" Spacing="10">
				<TextBlock Text="{Binding Status}" FontWeight="Bold"/>
				<ListBox ItemsSource="{Binding Contexts}"
					DoubleTapped="Contexts_DoubleTapped"
					SelectionMode="Single"
					>
					<ListBox.ItemTemplate>
						<DataTemplate>
							<Grid ColumnDefinitions="Auto,*,Auto,Auto">
								<TextBlock Text="*" Foreground="Green" FontWeight="Bold"
								           IsVisible="{Binding IsCurrent}"
								           />
								<TextBlock Grid.Column="1" Text="{Binding Name}" FontWeight="Bold" Margin="5,0"/>
								<TextBlock Grid.Column="2" Text="{Binding Cluster}" Foreground="Gray"/>
								<TextBlock Grid.Column="3" Text="{Binding Namespace}" Margin="20,0,0,0" Foreground="DarkGray"/>
							</Grid>
						</DataTemplate>
					</ListBox.ItemTemplate>
				</ListBox>								
			</StackPanel>
		</TabItem>
		<TabItem Header="Namespaces" Name="NamespacesTab">
			<StackPanel Margin="20" Spacing="10">
				<ListBox ItemsSource="{Binding Namespaces}"
					DoubleTapped="NamespaceListBox_DoubleTapped"
					SelectionMode="Single"
					>
					<ListBox.ItemTemplate>
						<DataTemplate>
							<Grid ColumnDefinitions="Auto,*">
								<TextBlock Text="*" Foreground="Green" FontWeight="Bold"
								           IsVisible="{Binding IsCurrent}"
								           />
								<TextBlock Grid.Column="1" Text="{Binding Name}" FontWeight="Bold" Margin="5,0"/>
							</Grid>
						</DataTemplate>
					</ListBox.ItemTemplate>
				</ListBox>								
			</StackPanel>
		</TabItem>
	</TabControl>
</Window>
